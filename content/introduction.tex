\section{introduction}
With interest in unmanned aerial vehicles growing rapidly over the course of last decade, aerial manipulation has become one of the most prominent research fields of robotics. Application scenarios include contact based inspection \cite{Alexis2016}, transportation and assembly \cite{Jimenez-Cano2013} and even complex interaction tasks involving opening doors \cite{Tsukagoshi2015} or turning valves \cite{Korpela2014a}. Since the very beginning of aerial manipulation, payload has been observed as a disturbance to the autopilot control system relying on the rotors to stabilize the aircraft. Pounds et al. explored the effect added payload and the corresponding shift in the center of mass have on the stability of a standard linear PID attitude controller \cite{Pounds2012}. In \cite{PalunkoIFAC2011} authors proposed an adaptive control approach to solve the problem of dynamic variations in the center of mass while transporting additional load. In \cite {Korpela2012} we analyzed the variable moment of inertia caused through motion of a multi degree of freedom manipulator. A common denominator of the state-of-the-art is that it observes a payload as a disturbance to the classical control approach of rotorcraft aerial vehicles. 


In this paper we seek to invert this observation and use a controller capable of utilizing centroid variations in order to actively control the attitude of the aerial robot. This in turn enables us to use the payload to help stabilize the Unmanned Aerial System's (UAS) body. As the rotorcraft design increases payload-to-weight ratio, the center of mass becomes ever more dominant dynamic component of the system. The ability to utilize it as a control mechanism, rather than a control disturbance, could potentially help improve overall UAS performance. This is in line with our long term goal within the MORUS project \cite{MORUSweb}, where we aim to build an unmanned aerial vehicle powered with four internal combustion engines (ICE), weighting 30kg in total and capable of lifting a 50kg heavy unmanned underwater vehicle (UUV). In order to solve the inherent problem of slow dynamics of ICE powered rotors, in \cite{Haus2017} we proposed using a Moving Mass Control (MMC) concept. Similar concept was reported in \cite{bermes2008new} used on a coaxial helicopter vehicle.

Herein we will use a scaled model of the MORUS UAS shown in Fig. \ref{fig:FlyingSCARA} and dubbed $\mu$MORUS, to demonstrate the effectiveness of the proposed control concept. Unlike in \cite{bermes2008new}, $\mu$MORUS has four rotors which are used together with moving masses in order to stabilize the vehicle. We combine these two control concepts through a paradigm known as mid-ranging control. This paradigm has been introduced in process industry for plant control with multiple actuators working simultaneously \cite{Allison1997MidRanging},\cite{Allison2003MidRanging}. In recent years, this type of control has gained attention in robotics, in particular for position control of a robotic arm consisted of a macro and mini manipulator \cite{Sornmo2013AdaptiveImc}, \cite{Ma2015MidRanging}. We further extended the results from \cite{Haus2017} by analyzing stability of the mid-ranging control concept, as well as applying such a control scheme on a multirotor UAV \cite{haus2018med}. 

CONTRIBUTIONS!!!!!! Moreover, in this paper we aim to derive a generalized mathematical model that can be applied to a generic aerial robot consisting of a UAV body and a multi degree of freedom manipulator potentially carrying a payload. 

The paper is organized as follows. We start by deriving a complete mathematical model of an aerial robot consisting of rotorcraft UAV body, and a generic multiple degree of freedom manipulator. Next we present the proposed, combined control system based on mid-ranging paradigm, Valve Position Control (VPC), utilizing both classical rotor and moving mass control concepts. Furthermore, we present the simulation results of a dual arm aerial robot with RR  manipulators carrying an object. Finally, we present the experimental results for the $\mu$MORUS UAS. To compare the proposed control paradigm with classical approach single axis of the UAS is equipped with moving masses.